<div class="transaction-history-container" @slideUp>
  <div class="transaction-history-table box-shadow">
    <h2 class="first" style="color: white;">Assign or Update User Role</h2>

    <div *ngIf="userRolesList!=0" style="overflow: auto;">
      <p-dataTable [value]="userRolesList" [loading]="false" [rows]="10" [paginator]="true" [pageLinks]="3" [rowsPerPageOptions]="[5,10,20]">
        <p-column [style]="{'width':'150px'}" field="FirstName" header="First Name" [sortable]="true"></p-column>
        <p-column [style]="{'width':'320px'}" field="LastName" header="Last Name" [sortable]="true"></p-column>
        <p-column [style]="{'width':'200px'}" field="RoleName" header="Role" [sortable]="true"></p-column>
        <p-column [style]="{'width':'120px'}" header="Edit Role" field="UserID">
          <ng-template let-userRolesList="rowData" pTemplate="body" let-ri="rowIndex">
            <button type="button" style="height: 25px;width: 70px;" class="ui-button-reset-transparent" (click)="onShowUpdateRoleModal(userRolesList)"
              pButton>Edit</button>
          </ng-template>
        </p-column>

      </p-dataTable>
    </div>

    <!--when row length is 0-->
    <div class="PTB70" *ngIf="userRolesList==0">
      <div class="col-md-12 text-center">
        <p>{{'noRecords' | translate}}</p>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
</div>
<admin-footer></admin-footer>

<!-- Start Role modal -->
<div class="phone-number-modal" *ngIf="isShowModal == 2" @dialog>
  <form [formGroup]="fgRoles" (submit)="UpdateRole(fgRoles.value)">
    <div class="modal-container">
      <div class="modal-header" style="background-color: gray;">
        <h5>{{'Role' | translate}}</h5>
        <i class="material-icons" (click)="closeForm()">close</i>
      </div>
      <div class="clearfix"></div>

      <div class="modal-body">
        <div class="margin-top-10 col-md-12">
          <div>
            <p-dropdown formControlName="RoleID" [options]="allRolesList" [(ngModel)]="selectedRole" [style]="{'width':'100%', 'height':'29px'}">
            </p-dropdown>
          </div>
        </div>
      </div>
      <div class="clearfix"></div>

      <div class="modal-footer">
        <div class="col-md-12">
          <button type="submit" class="btn btn-primary" [disabled]="!fgRoles.valid" pTooltip="{{'update' | translate}}" tooltipPosition="top">{{'update' | translate}}</button>
        </div>
        <div class="clearfix"></div>
      </div>

      <div class="margin-top-10"></div>
      <div class="clearfix"></div>
    </div>
  </form>
</div>
<!-- End Role modal -->